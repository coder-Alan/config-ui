{"version":3,"sources":[null,"webpack:///D:/ZHF-Project/config-ui/uni-app/vue2/uni_modules/config-ui/components/co-cascader/co-cascader.vue?5636","webpack:///D:/ZHF-Project/config-ui/uni-app/vue2/uni_modules/config-ui/components/co-cascader/co-cascader.vue?9b40","webpack:///D:/ZHF-Project/config-ui/uni-app/vue2/uni_modules/config-ui/components/co-cascader/co-cascader.vue?cf99","uni-app:///uni_modules/config-ui/components/co-cascader/co-cascader.vue","webpack:///D:/ZHF-Project/config-ui/uni-app/vue2/uni_modules/config-ui/components/co-cascader/co-cascader.vue?e28e","webpack:///D:/ZHF-Project/config-ui/uni-app/vue2/uni_modules/config-ui/components/co-cascader/co-cascader.vue?bfe5"],"names":["name","components","CoPopup","CoPickerHeader","CoCheckBar","props","show","type","default","title","clear","options","labelKey","valueKey","emitPath","data","checkList","currChecked","optionList","lineStyle","containerStyle","computed","showModelValue","get","set","watch","handler","immediate","methods","onCheckChange","getRect","query","selectAll","boundingClientRect","exec","tabClick","onConfirm","newCheckList","label","value","onClear","Object"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoI;AACpI;AAC+D;AACL;AACsC;;;AAGhG;AAC+K;AAC/K,gBAAgB,6KAAU;AAC1B,EAAE,iFAAM;AACR,EAAE,kGAAM;AACR,EAAE,2GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAoqB,CAAgB,qnBAAG,EAAC,C;;;;;;;;;;;;;;;;;;ACqCxrB;AAEA;EAAA;IAAA;EAAA,CAAC;AAAD;AAAA;EAAA;IAAA;EAAA,CAAC;AAAD;AAAA;EAAA;IAAA;EAAA,CAAC;AAAD;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA,gBAcA;EACAA;EACAC;IACAC;IACAC;IACAC;EACA;EACAC;IACAC;MACAC;MACAC;IACA;IACAC;MACAF;MACAC;IACA;IACAE;MACAH;MACAC;IACA;IACAG;MACAJ;MACAC;QAAA;MAAA;IACA;IACAI;MACAL;MACAC;IACA;IACAK;MACAN;MACAC;IACA;IACAM;MACAP;MACAC;IACA;EACA;EACAO;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MACAC;QACA;MACA;MACAC;QACA;MACA;IACA;EACA;EACAC;IACAd;MACAe;QACA;MACA;MACAC;IACA;EACA;EACAC;IACAC;MAAA;MACA;MAEA;MACA;QACA;QACA;UACA;UACA;UACA;QACA;MACA,OACA;QACA;QACA;UACA;UACA;UACAb;UACAA;UACAE;UACA;UACA;UACA;QACA,OACA;UACA;UACA;UACA;QACA;MACA;MAEA;QACA;MACA;IACA;IACAY;MAAA;MACA;MACAC,MACAC,4BACAC;QACA;QACA;QACA;MACA,GACAC;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;QACA;QAEAC;UACAC;UACAC;QACA;MACA;MAEA;MACA;QACAxB;MACA,OACA;QACAA;UACAuB;YAAA;UAAA;UACAC;QACA;MACA;MACA;MACA;IACA;IACAC;MACAC;MACA;MACA;MAEA;IACA;EACA;AACA;AAAA,4B;;;;;;;;;;;;;AC7MA;AAAA;AAAA;AAAA;AAAuxC,CAAgB,4nCAAG,EAAC,C;;;;;;;;;;;ACA3yC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"uni_modules/config-ui/components/co-cascader/co-cascader.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./co-cascader.vue?vue&type=template&id=ed8d4aea&scoped=true&\"\nvar renderjs\nimport script from \"./co-cascader.vue?vue&type=script&lang=js&\"\nexport * from \"./co-cascader.vue?vue&type=script&lang=js&\"\nimport style0 from \"./co-cascader.vue?vue&type=style&index=0&id=ed8d4aea&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ed8d4aea\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"uni_modules/config-ui/components/co-cascader/co-cascader.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./co-cascader.vue?vue&type=template&id=ed8d4aea&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./co-cascader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./co-cascader.vue?vue&type=script&lang=js&\"","<template>\r\n\t<CoPopup v-model=\"showModelValue\">\r\n\t\t<view class=\"co-cascader\">\r\n\t\t\t<CoPickerHeader :title=\"title\" :clear=\"clear\" @clear=\"onClear\" @confirm=\"onConfirm\"></CoPickerHeader>\r\n\t\t\t<view class=\"co-tabs\">\r\n\t\t\t\t<view v-for=\"(item, index) in checkList\" :key=\"index\" class=\"co-tabs__item\" @click=\"tabClick(index)\">\r\n\t\t\t\t\t<text v-if=\"item\" class=\"co-tabs__item-label\">{{ item[labelKey] }}</text>\r\n\t\t\t\t\t<text v-else class=\"co-tabs__item-tip\">请选择</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"co-tabs__line\" :style=\"lineStyle\"></view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"co-option__container\" :style=\"containerStyle\">\r\n\t\t\t\t<scroll-view v-for=\"(item, index) in optionList\" :key=\"index\" scroll-y=\"true\" class=\"co-option__container__list\">\r\n\t\t\t\t\t<CoCheckBar\r\n\t\t\t\t\t\tv-for=\"subItem in item\"\r\n\t\t\t\t\t\t:key=\"subItem[valueKey]\"\r\n\t\t\t\t\t\t:index=\"index\"\r\n\t\t\t\t\t\t:data=\"subItem\"\r\n\t\t\t\t\t\t:checked=\"currChecked === subItem[valueKey]\"\r\n\t\t\t\t\t\t:cancelable=\"false\"\r\n\t\t\t\t\t\t@change=\"onCheckChange\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<view class=\"co-option__container__list__item\">\r\n\t\t\t\t\t\t\t{{ subItem[labelKey] }}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</CoCheckBar>\r\n\t\t\t\t</scroll-view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</CoPopup>\r\n</template>\r\n\r\n<script>\r\nimport CoPopup from '../co-popup/co-popup'\r\nimport CoPickerHeader from '../co-picker-header/co-picker-header'\r\nimport CoCheckBar from '../co-check-bar/co-check-bar'\r\n\r\nimport {\r\n\trequestAnimationFrame\r\n} from '../../utils/index.js'\r\n\r\n/**\r\n * CoCascader 级联选择器\r\n * @property {Boolean} show 是否显示弹框\r\n * @property {String} title 弹框标题\r\n * @property {Boolean} clear 是否显示清除按钮\r\n * @property {Array<object>} options 选项数据\r\n * @property {String} label-key 选项数据中显示的键名\r\n * @property {String} value-key 选项数据中值的键名\r\n * @property {Boolean} emit-path 是否返回由该节点所在的各级菜单的值所组成的数组，若设置 false，则只返回该节点的值\r\n * @event {Function} update:show 设置 showModelValue 的值时触发\r\n * @event {Function} confirm 点击确认按钮触发\r\n * @event {Function} clear 点击清除按钮触发\r\n */\r\n\r\nexport default {\r\n\tname: 'CoCascader',\r\n\tcomponents: {\r\n\t\tCoPopup,\r\n\t\tCoPickerHeader,\r\n\t\tCoCheckBar,\r\n\t},\r\n\tprops: {\r\n\t\tshow: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\ttitle: {\r\n\t\t\ttype: [String, null],\r\n\t\t\tdefault: ''\r\n\t\t},\r\n\t\tclear: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: true\r\n\t\t},\r\n\t\toptions: {\r\n\t\t\ttype: Array,\r\n\t\t\tdefault: () => ([])\r\n\t\t},\r\n\t\tlabelKey: {\r\n\t\t\ttype: [String, null],\r\n\t\t\tdefault: 'label'\r\n\t\t},\r\n\t\tvalueKey: {\r\n\t\t\ttype: [String, null],\r\n\t\t\tdefault: 'value'\r\n\t\t},\r\n\t\temitPath: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: true\r\n\t\t},\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tcheckList: [null],\r\n\t\t\tcurrChecked: '',\r\n\t\t\toptionList: [],\r\n\t\t\tlineStyle: '--line-x: 37px;--line-width: 40px;',\r\n\t\t\tcontainerStyle: '--translate-x: 0px;',\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\tshowModelValue: {\r\n\t\t\tget() {\r\n\t\t\t\treturn this.show\r\n\t\t\t},\r\n\t\t\tset(val) {\r\n\t\t\t\tthis.$emit('update:show', val)\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\toptions: {\r\n\t\t\thandler(val) {\r\n\t\t\t\tthis.optionList = [val]\r\n\t\t\t},\r\n\t\t\timmediate: true\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tonCheckChange(e, isCheck, index) {\r\n\t\t\tif (this.currChecked === e[this.valueKey]) return\r\n\r\n\t\t\tthis.currChecked = e[this.valueKey]\r\n\t\t\tif (index === this.checkList.length - 1) {\r\n\t\t\t\tthis.checkList[this.checkList.length - 1] = e\r\n\t\t\t\tif (e.children && e.children.length) {\r\n\t\t\t\t\tthis.checkList.push(null)\r\n\t\t\t\t\tthis.optionList.push(e.children)\r\n\t\t\t\t\tthis.containerStyle = `--translate-x: -${100 * (this.optionList.length - 1)}vw;`\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tconst nextIndex = index + 1\r\n\t\t\t\tif (e.children && e.children.length) {\r\n\t\t\t\t\tconst checkList = this.checkList.slice(0, nextIndex)\r\n\t\t\t\t\tconst optionList = this.optionList.slice(0, nextIndex)\r\n\t\t\t\t\tcheckList[index] = e\r\n\t\t\t\t\tcheckList.push(null)\r\n\t\t\t\t\toptionList.push(e.children)\r\n\t\t\t\t\tthis.containerStyle = `--translate-x: -${100 * nextIndex}vw;`\r\n\t\t\t\t\tthis.checkList = checkList\r\n\t\t\t\t\tthis.optionList = optionList\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.checkList.splice(nextIndex)\r\n\t\t\t\t\tthis.checkList[this.checkList.length - 1] = e\r\n\t\t\t\t\tthis.optionList.splice(nextIndex)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\trequestAnimationFrame(() => {\r\n\t\t\t\tthis.getRect()\r\n\t\t\t})\r\n\t\t},\r\n\t\tgetRect(index) {\r\n\t\t\tconst query = uni.createSelectorQuery().in(this);\r\n\t\t\tquery\r\n\t\t\t\t.selectAll('.co-tabs__item')\r\n\t\t\t\t.boundingClientRect((data) => {\r\n\t\t\t\t\tconst i = typeof(index) === 'number' ? index : data.length - 1\r\n\t\t\t\t\tconst lastDom = data[i]\r\n\t\t\t\t\tthis.lineStyle = `--line-x: ${lastDom.left + lastDom.width / 2}px;--line-width: ${lastDom.width}px;`\r\n\t\t\t\t})\r\n\t\t\t\t.exec();\r\n\t\t},\r\n\t\ttabClick(index) {\r\n\t\t\tconst item = this.checkList[index]\r\n\t\t\tif (!item) return\r\n\t\t\tthis.currChecked = item[this.valueKey]\r\n\t\t\tthis.containerStyle = `--translate-x: -${100 * index}vw;`\r\n\t\t\tthis.getRect(index)\r\n\t\t},\r\n\t\tonConfirm() {\r\n\t\t\tconst newCheckList = []\r\n\t\t\tfor (let i = 0; i < this.checkList.length; i++) {\r\n\t\t\t\tif (this.checkList[i] === null) return\r\n\r\n\t\t\t\tnewCheckList.push({\r\n\t\t\t\t\tlabel: this.checkList[i][this.labelKey],\r\n\t\t\t\t\tvalue: this.checkList[i][this.valueKey],\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tlet data\r\n\t\t\tif (this.emitPath) {\r\n\t\t\t\tdata = newCheckList\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tdata = {\r\n\t\t\t\t\tlabel: newCheckList.map(item => item.label).join(' / '),\r\n\t\t\t\t\tvalue: newCheckList[newCheckList.length - 1].value\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.$emit('confirm', data)\r\n\t\t\tthis.showModelValue = false\r\n\t\t},\r\n\t\tonClear() {\r\n\t\t\tObject.assign(this, this.$options.data())\r\n\t\t\tthis.optionList = [this.options]\r\n\t\t\tthis.$emit('clear')\r\n\r\n\t\t\tthis.showModelValue = false\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.co-cascader {\r\n\tfont-size: 14px;\r\n\r\n\t.co-tabs {\r\n\t\tposition: relative;\r\n\t\tdisplay: flex;\r\n\t\theight: 96rpx;\r\n\t\tpadding: 0 12rpx;\r\n\r\n\t\t&__item {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\theight: 100%;\r\n\t\t\tmargin: 0 20rpx;\r\n\r\n\t\t\t&-label {\r\n\t\t\t\tcolor: #333;\r\n\t\t\t}\r\n\r\n\t\t\t&-tip {\r\n\t\t\t\tcolor: #969799;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t&__line {\r\n\t\t\tposition: absolute;\r\n\t\t\tbottom: 0;\r\n\t\t\tleft: 0;\r\n\t\t\tz-index: 1;\r\n\t\t\twidth: var(--line-width);\r\n\t\t\theight: 3px;\r\n\t\t\tbackground-color: $uni-color-primary;\r\n\t\t\tborder-radius: 3px;\r\n\t\t\ttransform: translateX(var(--line-x)) translateX(-50%);\r\n\t\t\ttransition-duration: 0.3s;\r\n\t\t}\r\n\t}\r\n\r\n\t.co-option__container {\r\n\t\tdisplay: flex;\r\n\t\theight: 40vh;\r\n\t\ttransform: translateX(var(--translate-x));\r\n\t\ttransition-duration: 0.3s;\r\n\r\n\t\t&__list {\r\n\t\t\twidth: 100vw;\r\n\t\t\theight: 100%;\r\n\t\t\tflex-shrink: 0;\r\n\r\n\t\t\t&__item {\r\n\t\t\t\tpadding: 18rpx 32rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./co-cascader.vue?vue&type=style&index=0&id=ed8d4aea&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./co-cascader.vue?vue&type=style&index=0&id=ed8d4aea&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1741225639514\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}