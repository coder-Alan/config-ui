{"version":3,"sources":[null,"webpack:///D:/ZHF-Project/config-ui/uni-app/vue2/uni_modules/config-ui/components/co-form-cascader/co-form-cascader.vue?a99c","webpack:///D:/ZHF-Project/config-ui/uni-app/vue2/uni_modules/config-ui/components/co-form-cascader/co-form-cascader.vue?7185","webpack:///D:/ZHF-Project/config-ui/uni-app/vue2/uni_modules/config-ui/components/co-form-cascader/co-form-cascader.vue?e68a","uni-app:///uni_modules/config-ui/components/co-form-cascader/co-form-cascader.vue"],"names":["name","components","CoFormNormal","CoCascader","props","value","type","default","attrs","data","showCascader","valueName","selfChange","computed","config","label","labelStyle","placeholder","disabled","borderAlign","labelKey","valueKey","options","returnType","showAllLevels","emitPath","newAttrs","modelValue","get","set","title","watch","handler","immediate","methods","getValueName","Array","path","arrTraverser","strTraverser","list","formatLabel","onClick","onConfirm","onClear"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAA6H;AAC7H;AACoE;AACL;;;AAG/D;AAC+K;AAC/K,gBAAgB,6KAAU;AAC1B,EAAE,sFAAM;AACR,EAAE,2FAAM;AACR,EAAE,oGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,+FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAyqB,CAAgB,0nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC0B7rB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAzBA,gBA2BA;EACAA;EACAC;IACAC;IACAC;EACA;EACAC;IACAC;MACAC;MACAC;IACA;IACAC;MACAF;MACAC;QAAA;MAAA;IACA;EACA;EACAE;IACA;MACAC;MACAC;MACAC;IACA;EACA;;EACAC;IACAC;MACA;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MAEA;MACAC;MAEA;IACA;IACAC;MACAC;QACA;MACA;MACAC;QACA;MACA;IACA;IACAC;MACA;IACA;EACA;EACAC;IACAJ;MACAK;QACA;QACA;UACA;QACA,OACA;UACA;QACA;MACA;MACAC;IACA;EACA;EACAC;IACAC;MAAA;MACA,wBACAC,6DACA,6FACA;MAEA;MACA;MACA;QACA;UACA;UACA;YACAC;YACA;cACAC;cACA;YACA,OACA;cACA;YACA;UACA;QACA;MACA;MACA;QACA;UACA;UACA;YACA;UACA;UACA;YACAC;UACA,OACA;YACA;UACA;QACA;MACA;MAEA;MACA;QACA;UACAC;QACA,OACA;UACAF;UACAE;QACA;QACAA;MACA,OACA;QACA;UACAD;QACA,OACA;UACAA;QACA;QACAC;MACA;MACA;IACA;IACAC;MAAA;MACA;QACA;UAAA;QAAA;MACA,OACA;QACA;MACA;IACA;IACAC;MACA;QACA;MACA,OACA;QACA;MACA;IACA;IACAC;MAAA;MACA;MAEA;QACA;UACA;QACA,OACA;UACA;YAAA;UAAA;QACA;QAEA;MACA,OACA;QACA;UACA;QACA,OACA;UACA;QACA;QAEA;MACA;IACA;IACAC;MAAA;MACA;MAEA;QACA;MACA;MAEA;QACA;MACA,OACA;QACA;UACA;YACA7B;YACAV;UACA;QACA,OACA;UACA;QACA;MACA;MAEA;IACA;EACA;AACA;AAAA,4B","file":"uni_modules/config-ui/components/co-form-cascader/co-form-cascader.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./co-form-cascader.vue?vue&type=template&id=8dd524ea&\"\nvar renderjs\nimport script from \"./co-form-cascader.vue?vue&type=script&lang=js&\"\nexport * from \"./co-form-cascader.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"uni_modules/config-ui/components/co-form-cascader/co-form-cascader.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./co-form-cascader.vue?vue&type=template&id=8dd524ea&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./co-form-cascader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./co-form-cascader.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"co-form-cascader\">\r\n\t\t<CoFormNormal\r\n\t\t\tv-model=\"valueName\"\r\n\t\t\t:attrs=\"config\"\r\n\t\t\t@click=\"onClick\"\r\n\t\t\t@clear=\"onClear(false)\"\r\n\t\t></CoFormNormal>\r\n\t\t<CoCascader\r\n\t\t\t:show.sync=\"showCascader\"\r\n\t\t\t:title=\"title\"\r\n\t\t\t:options=\"config.options\"\r\n\t\t\t:label-key=\"config.labelKey\"\r\n\t\t\t:value-key=\"config.valueKey\"\r\n\t\t\t:emit-path=\"config.emitPath\"\r\n\t\t\t:clear=\"!config.required\"\r\n\t\t\t@confirm=\"onConfirm\"\r\n\t\t\t@clear=\"onClear\"\r\n\t\t></CoCascader>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport CoFormNormal from '../co-form-normal/co-form-normal'\r\nimport CoCascader from '../co-cascader/co-cascader'\r\n\r\n/**\r\n * FormCascader 级联选择器\r\n * @description form组件的内置组件，用于多层级的数据选择\r\n * @property {String|Number|Object|Array} v-model 绑定的值\r\n * @property {Object} attrs 组件属性配置\r\n * \t@field {String} label 标签内容\r\n * \t@field {String} labelStyle 自定义标签的样式\r\n * \t@field {String} placeholder 标签占位符\r\n * \t@field {Boolean} disabled 是否禁用\r\n * \t@field {String} borderAlign = [top|bottom|vertical] 边框位置\r\n * \t\t@value top 上边框\r\n * \t\t@value bottom 下边框\r\n * \t\t@value vertical 上下边框\r\n * \t@field {String} labelKey 标签字段名\r\n * \t@field {String} valueKey 值字段名\r\n * \t@field {Array<object>} options 数据列表\r\n * \t@field {String} returnType = [value|object] 选中的返回类型\r\n * \t\t@value value 只返回数据的值\r\n * \t\t@value object 返回完整数据\r\n * \t\t@default value\r\n * \t@field {Boolean} showAllLevels 是否显示选中值的完整路径\r\n * \t@field {Boolean} emitPath 是否返回由该节点所在的各级菜单的值所组成的数组，若设置 false，则只返回该节点的值\r\n * @event {Function} clear CoFormNormal组件的清除事件\r\n * @event {Function} clear 点击CoPickerHeader组件的清除按钮触发 或者 点击CoFormNormal组件的Arrow组件的清除按钮触发\r\n * @event {Function} click CoFormNormal组件图标的点击事件 和 arrow类型的点击事件\r\n */\r\n\r\nexport default {\r\n\tname: 'CoFormCascader',\r\n\tcomponents: {\r\n\t\tCoFormNormal,\r\n\t\tCoCascader,\r\n\t},\r\n\tprops: {\r\n\t\tvalue: {\r\n\t\t\ttype: [String, Number, Object, Array],\r\n\t\t\tdefault: ''\r\n\t\t},\r\n\t\tattrs: {\r\n\t\t\ttype: [Object, null],\r\n\t\t\tdefault: () => ({})\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tshowCascader: false,\r\n\t\t\tvalueName: '',\r\n\t\t\tselfChange: false // 是否是内部改变数据\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\tconfig() {\r\n\t\t\tconst defaultAttrs = {\r\n\t\t\t\tlabel: '',\r\n\t\t\t\tlabelStyle: '',\r\n\t\t\t\tplaceholder: '',\r\n\t\t\t\tdisabled: false,\r\n\t\t\t\tborderAlign: 'bottom',\r\n\t\t\t\tlabelKey: 'label',\r\n\t\t\t\tvalueKey: 'value',\r\n\t\t\t\toptions: [],\r\n\t\t\t\treturnType: 'value',\r\n\t\t\t\tshowAllLevels: true,\r\n\t\t\t\temitPath: true,\r\n\t\t\t}\r\n\r\n\t\t\tconst newAttrs = Object.assign(defaultAttrs, this.attrs)\r\n\t\t\tnewAttrs.labelType = 'arrow'\r\n\r\n\t\t\treturn newAttrs\r\n\t\t},\r\n\t\tmodelValue: {\r\n\t\t\tget() {\r\n\t\t\t\treturn this.value\r\n\t\t\t},\r\n\t\t\tset(val) {\r\n\t\t\t\tthis.$emit('input', val)\r\n\t\t\t}\r\n\t\t},\r\n\t\ttitle() {\r\n\t\t\treturn `请选择${this.config.label}`\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\tmodelValue: {\r\n\t\t\thandler() {\r\n\t\t\t\t// 如果不是自身主动改变，则说明是外部数据的传入，需要回显\r\n\t\t\t\tif (!this.selfChange) {\r\n\t\t\t\t\tthis.valueName = this.getValueName()\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.selfChange = false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\timmediate: true\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tgetValueName() {\r\n\t\t\tif (!this.modelValue\r\n\t\t\t|| (Array.isArray(this.modelValue) && !this.modelValue.length)\r\n\t\t\t|| (typeof this.modelValue === 'object' && !Object.keys(this.modelValue).length))\r\n\t\t\treturn ''\r\n\r\n\t\t\tlet path = []\r\n\t\t\t// 获取选中值对应的label\r\n\t\t\tconst arrTraverser = (options, data) => {\r\n\t\t\t\tfor (let i = 0; i < options.length; i++) {\r\n\t\t\t\t\tconst value = options[i][this.config.valueKey]\r\n\t\t\t\t\tif (value === data[0]) {\r\n\t\t\t\t\t\tpath.push(options[i])\r\n\t\t\t\t\t\tif (options[i].children && data.length > 1) {\r\n\t\t\t\t\t\t\tarrTraverser(options[i].children, data.slice(1))\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tconst strTraverser = (options, currPath, data) => {\r\n\t\t\t\tfor (var i = 0; i < options.length; i++) {\r\n\t\t\t\t\tconst value = options[i][this.config.valueKey]\r\n\t\t\t\t\tif (this.modelValue === value) {\r\n\t\t\t\t\t\treturn path = currPath.push(options[i])\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (options[i].children) {\r\n\t\t\t\t\t\tstrTraverser(options[i].children, currPath.push(options[i]), data)\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tlet list\r\n\t\t\tif (Array.isArray(this.modelValue)) {\r\n\t\t\t\tif (this.config.returnType === 'object') {\r\n\t\t\t\t\tlist = this.modelValue\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tarrTraverser(this.config.options, this.modelValue)\r\n\t\t\t\t\tlist = path\r\n\t\t\t\t}\r\n\t\t\t\tlist = list\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif (this.config.returnType === 'object') {\r\n\t\t\t\t\tstrTraverser(this.config.options, [], this.modelValue[this.config.valueKey])\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tstrTraverser(this.config.options, [], this.modelValue)\r\n\t\t\t\t}\r\n\t\t\t\tlist = path\r\n\t\t\t}\r\n\t\t\treturn this.formatLabel(list)\r\n\t\t},\r\n\t\tformatLabel(list) {\r\n\t\t\tif (this.config.showAllLevels) {\r\n\t\t\t\treturn list.map(item => item[this.config.labelKey]).join(' / ')\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturn list[list.length - 1][this.config.labelKey]\r\n\t\t\t}\r\n\t\t},\r\n\t\tonClick(e) {\r\n\t\t\tif (e) {\r\n\t\t\t\tthis.$emit('click', e, this.attrs)\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.showCascader = true\r\n\t\t\t}\r\n\t\t},\r\n\t\tonConfirm(e) {\r\n\t\t\tthis.selfChange = true\r\n\r\n\t\t\tif (this.config.emitPath) {\r\n\t\t\t\tif (this.config.returnType === 'object') {\r\n\t\t\t\t\tthis.modelValue = e\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.modelValue = e.map(item => item[this.config.returnType])\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.valueName = this.formatLabel(e)\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif (this.config.returnType === 'object') {\r\n\t\t\t\t\tthis.modelValue = e\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.modelValue = e[this.config.returnType]\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.valueName = e.label || ''\r\n\t\t\t}\r\n\t\t},\r\n\t\tonClear(isPickerClear = true) {\r\n\t\t\tthis.selfChange = true\r\n\r\n\t\t\tif (isPickerClear) {\r\n\t\t\t\tthis.valueName = ''\r\n\t\t\t}\r\n\r\n\t\t\tif (this.config.emitPath) {\r\n\t\t\t\tthis.modelValue = []\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif (this.config.returnType === 'object') {\r\n\t\t\t\t\tthis.modelValue = {\r\n\t\t\t\t\t\tlabel: undefined,\r\n\t\t\t\t\t\tvalue: undefined\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.modelValue = undefined\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.$emit('clear', this.attrs)\r\n\t\t},\r\n\t}\r\n}\r\n</script>\r\n"],"sourceRoot":""}